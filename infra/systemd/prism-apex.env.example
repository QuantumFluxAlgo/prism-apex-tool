# --- Prism Apex server env (copy to: /home/prism/prism-apex.env) ---
NODE_ENV=production
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=info
DATA_DIR=/home/prism/prism-apex-data

# Rate limit
RATE_LIMIT_MAX=60
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_BUCKETS=50000

# Guardrails
MIN_RR=1.5
MAX_RR=5
FLAT_BY_UTC=20:59

# Sizing policy
SIZE_POLICY=percent-of-max
PCT_OF_MAX_WHEN_NO_BUFFER=0.5
PCT_OF_MAX_WHEN_BUFFER=1.0
HALF_SIZE_UNTIL_BUFFER=true

# Consistency (metrics only)
CONSISTENCY_TRACKING_ENABLED=true
CONSISTENCY_DAY_SHARE_LIMIT=0.3
CONSISTENCY_MIN_PROFIT_DAY_USD=50
CONSISTENCY_WINDOW_DAYS=8

# Profit floor (leave blank to disable)
MIN_PROFIT_TICKS=
MIN_EXPECTED_PROFIT_USD=

# Webhook secret (set a strong value in production)
TRADINGVIEW_WEBHOOK_SECRET=
# Optional bearer for private endpoints (leave blank to disable)
BEARER_TOKEN=
# Proxy trust (set true if behind reverse proxy like Nginx/Traefik)
TRUST_PROXY=false
